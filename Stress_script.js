const questions = [
    {
        question: "Какое утро для вас самое характерное?",
        answers: [
            { text: "a) Просыпаюсь с тяжёлой головой и в настроении «не хочу видеть этот мир».", value: 1 },
            { text: "b) Встаю, но ощущаю лёгкую тревогу: «Успею ли я сегодня всё, что запланировал(а)?».", value: 2 },
            { text: "c) Начинаю день с планирования и короткой зарядки — это помогает настроиться.", value: 3 },
            { text: "d) Просыпаюсь довольно бодрым(ой) и радуюсь новому дню.", value: 4 }
        ]
    },
    {
        question: "Что вы делаете, когда понимаете, что не успеваете в срок с важной задачей?",
        answers: [
            { text: "a) Закрываюсь от всего, откладываю задачу и начинаю себя корить.", value: 1 },
            { text: "b) Паникую и хаотично пытаюсь сделать всё сразу.", value: 2 },
            { text: "c) Прошу коллег или друзей о помощи.", value: 3 },
            { text: "d) Принимаю ситуацию, переношу сроки (если возможно) и делегирую часть работы.", value: 4 }
        ]
    },
    {
        question: "Как часто вам кажется, что ваша усталость «непроходима»?",
        answers: [
            { text: "a) Практически каждый день. Я ощущаю, что нахожусь на грани.", value: 1 },
            { text: "b) Несколько раз в неделю, особенно к концу рабочего дня.", value: 2 },
            { text: "c) Случается, но я умею восстанавливаться за выходные или во время отпуска.", value: 3 },
            { text: "d) Очень редко — я стараюсь вовремя перезагружаться.", value: 4 }
        ]
    },
    {
        question: "Как вы реагируете на критику со стороны начальника или клиента?",
        answers: [
            { text: "a) Злюсь на себя и всех вокруг, чувствую несправедливость.", value: 1 },
            { text: "b) Закрываюсь и долго обдумываю, что со мной не так.", value: 2 },
            { text: "c) Анализирую замечания: какие конкретные шаги могу предпринять для улучшения?", value: 3 },
            { text: "d) Спокойно принимаю и задаю уточняющие вопросы, чтобы сразу понять, что нужно изменить.", value: 4 }
        ]
    },
    {
        question: "Как вы обычно восстанавливаетесь после тяжёлого рабочего дня?",
        answers: [
            { text: "a) Просматриваю ленту соцсетей до глубокой ночи, засыпая с телефоном в руках.", value: 1 },
            { text: "b) Стараюсь лечь пораньше, но часто прокручиваю в голове рабочие ситуации.", value: 2 },
            { text: "c) Гуляю, занимаюсь спортом или читаю что-то приятное — это отвлекает мысли.", value: 3 },
            { text: "d) Практикую медитации/дыхательные упражнения или веду дневник благодарностей.", value: 4 }
        ]
    },
    {
        question: "Что вы делаете, когда не можете решить проблему, а сроки поджимают?",
        answers: [
            { text: "a) Отключаюсь от дел (фильмы, игры), чтобы не думать о задаче.", value: 2 },
            { text: "b) Истерично пытаюсь найти решение, не обращая внимания на усталость.", value: 1 },
            { text: "c) Разбиваю задачу на более мелкие части и ищу, с чего начать.", value: 3 },
            { text: "d) Подключаю команду или эксперта, вместе мозговые штурмы часто дают лучшие результаты.", value: 4 }
        ]
    },
    {
        question: "Вас позвали на важное мероприятие, но вы чувствуете, что сил уже нет. Как поступите?",
        answers: [
            { text: "a) Соглашусь, сжав зубы, а потом всю ночь буду себя корить, что потратил(а) время и силы.", value: 1 },
            { text: "b) Приду, но в полудрёмном состоянии: «авось пронесёт».", value: 2 },
            { text: "c) Откажусь, объяснив, что мне нужен отдых, или предложу перенести встречу.", value: 3 },
            { text: "d) Подготовлюсь заранее (короткий сон, лёгкий перекус, настрой), чтобы прийти в лучшей форме.", value: 4 }
        ]
    },
    {
        question: "Когда вы чувствуете, что буквально «на грани», то…",
        answers: [
            { text: "a) Срываюсь на близких или коллегах.", value: 1 },
            { text: "b) Замыкаюсь в себе и стараюсь никому не показывать своё состояние.", value: 2 },
            { text: "c) Понимаю, что это сигнал — пора брать паузу или обращаться за поддержкой.", value: 3 },
            { text: "d) У меня есть список техник самопомощи (дыхательные упражнения, любимые хобби), которые быстро приводят меня в норму.", value: 4 }
        ]
    }
];

let currentQuestionIndex = 0;
let score = 0;

const quizDiv = document.getElementById('quiz');
const resultDiv = document.getElementById('result');

function loadQuestion() {
    if (currentQuestionIndex < questions.length) {
        const questionData = questions[currentQuestionIndex];
        quizDiv.innerHTML = `
            <div class="question">
                <p>${questionData.question}</p>
                <div class="answers">
                    ${questionData.answers.map(answer => `
                        <label>
                            <input type="radio" name="answer" value="${answer.value}"> ${answer.text}
                        </label>
                    `).join('')}
                </div>
                <button id="nextButton">Далее</button>
            </div>
        `;
        document.getElementById('nextButton').addEventListener('click', nextQuestion);
    } else {
        showResult();
    }
}

function nextQuestion() {
    const selectedAnswer = document.querySelector('input[name="answer"]:checked');
    if (!selectedAnswer) {
        alert('Пожалуйста, выберите ответ перед продолжением.');
        return;
    }
    score += parseInt(selectedAnswer.value);
    currentQuestionIndex++;
    loadQuestion();
}

function showResult() {
    let message = '';
    if (score <= 14) {
        message = 'Вы, вероятно, находитесь в состоянии глубокого стресса или даже близки к выгоранию.';
    } else if (score <= 23) {
        message = 'Стресс присутствует, и он уже влияет на вашу повседневную жизнь.';
    } else if (score <= 28) {
        message = 'У вас уже есть неплохие навыки управления стрессом и планирования.';
    } else {
        message = 'Поздравляем! Вы, кажется, действительно умеете заботиться о себе.';
    }

    quizDiv.style.display = 'none';
    resultDiv.textContent = `Ваш результат: ${score} баллов. ${message}`;
    resultDiv.style.display = 'block';
}

loadQuestion();